<html lang="en">
  <%- include("../partials/head.ejs") %>
  <body>
    <%- include("../partials/nav.ejs") %>
    <div class="container my-4 px-3">
      <h2>Profile</h2>
      <div class="row mt-5 justify-content-center">
        <div class="col-lg-10">
          <div class="row justify-content-between">
            <div class="col-md-6 px-2">
              <div class="card shadow p-0">
                <div class="card-header px-4 py-3">
                  <h4>Personal Info</h4>
                </div>
                <div class="card-body px-4">
                  <form action="/info" method="POST">
                    <div class="form-group row">
                      <label class="col-sm-4 col-form-label mb-2" for="username"
                        >Username</label
                      >
                      <div class="col-sm-8 mb-3">
                        <input
                          class="form-control"
                          type="text"
                          name="username"
                          disabled
                          value="<%= user.username %>"
                        />
                      </div>

                      <label class="col-sm-4 col-form-label mb-2" for="email"
                        >Email</label
                      >

                      <div class="col-sm-8 mb-3">
                        <input
                          class="form-control"
                          type="email"
                          name="email"
                          disabled
                          value="<%= user.email %>"
                        />
                      </div>

                      <label class="col-sm-4 col-form-label mb-2" for="name"
                        >Name</label
                      >

                      <div class="col-sm-8 mb-3">
                        <input
                          class="form-control"
                          type="text"
                          name="name"
                          required
                          value="<%= user.name %>"
                        />
                      </div>
                    </div>
                    <button type="submit" class="ms-auto mt-2 btn btn-primary">
                      Update Info
                    </button>
                  </form>
                </div>
              </div>
            </div>

            <div class="col-md-6 px-2">
              <div class="card shadow p-0">
                <div class="card-header px-4 py-3">
                  <h4>Change Password</h4>
                </div>
                <div class="card-body px-4">
                  <form action="/changepassword" method="POST">
                    <div class="form-group row">
                      <label
                        class="col-sm-4 col-form-label mb-2"
                        for="oldPassword"
                        >Old Password</label
                      >
                      <div class="col-sm-8 mb-3">
                        <input
                          class="form-control"
                          type="password"
                          name="oldPassword"
                          required
                        />
                      </div>

                      <label
                        class="col-sm-4 col-form-label mb-2"
                        for="newPassword"
                        >New Password</label
                      >

                      <div class="col-sm-8 mb-3">
                        <input
                          class="form-control"
                          type="password"
                          name="newPassword"
                          required
                        />
                      </div>

                      <label
                        class="col-sm-4 col-form-label mb-2"
                        for="confirmPassword"
                        >Confirm Password</label
                      >

                      <div class="col-sm-8 mb-3">
                        <input
                          class="form-control"
                          type="text"
                          name="confirmPassword"
                          required
                        />
                      </div>
                    </div>
                    <button type="submit" class="ms-auto mt-2 btn btn-primary">
                      Update Password
                    </button>
                  </form>
                </div>
              </div>
              <% if (errorMessage) { %>
              <div class="alert alert-danger" role="alert">
                <%= errorMessage %>
              </div>
              <% } %> <% if (successMessage) { %>
              <div class="alert alert-success" role="alert">
                <%= successMessage %>
              </div>
              <% } %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
